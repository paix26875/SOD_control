N10 DEF REAL Power, SetPowder1, SetCarriergas1, SetStirrerSpeed1, SetPowder2, SetCarriergas2, SetStirrerSpeed2


;Laser parameters
N20 DEF REAL FEED,IRRDIATIONINTERVAL,IRRDIATIONTIME
N30 DEF REAL STARTX,STARTY,STARTZ,STARTC
N40 DEF REAL COUNTER, COUNTEREND, DWELL
N50 DEF REAL APPROACH, HIGHT

;*****PROGRAM VARIABLES*****

N60 IRRDIATIONINTERVAL=2         ;LENGTH OF WALL[mm]
N70 IRRDIATIONTIME=0.5 ;[s]

N90 FEED=1000         ;FEED RATE IN MM/MIN
N100 DWELL=6          ;DWELL TIME IN SECONDS
N110 APPROACH=5       ;OVER TRAVEL AMOUNT




;LASER POWERS IN WATTS
;LASER POWER CHANGES EVERY NUMBER OF LAYERS = LAYERCHANGE

 

;START POSITION
N120 STARTX=25 ;Set X position
N130 STARTY=25 ;Set Y position
N140 STARTZ=0 ;Set Z position
N150 STARTC=0 ;Set C position

 

N160 ; Settings Parameter Laser
N170 Power=1600 ;H52 LASER POWER in mV�@1600W�Ǝw��
N200 SetPowder1=0 ; H53 SPEED POWDER DISC HOPPER 1 in mV 0..1000 => 0..10 U/min
N210 SetCarriergas1=0 ; H54 CARRIER GAS FLOW HOPPER 1 in mV 0..1000 => 0..10 U/min
N220 SetStirrerSpeed1=0 ; H55 STIRRER SPEED HOPPER 1 in mV 0..1000 => 0.. 100 percent
N230 SetPowder2=10 ; H56 SPEED POWDER DISC HOPPER 2 in mV ...1000 => 0..10 U/min
N240 SetCarriergas2=600 ; H57 CARRIER GAS FLOW HOPPER 2 in mV 0..1000 => 0..10 U/min
N250 SetStirrerSpeed2=500 ; H58 STIRRER SPEED HOPPER 2 in mV 0..1000 => 0.. 100 percent 

;******************************

STOPRE
R2=Power                      ;Set Initial Laser Power 1600W�ɐݒ�


N240 STOPRE

 

N250 G54 ;Work offset

N280 DM_RAPID(10) ;RAPID LIMIT IN %�@;�����葬�x10%�ɐ���
N290 TRAFOOF;��[�_����OFF
N300 G0 G153 Z0 D0 ;�`�����o���g�p����Ƃ��ɂ̓R�����g�A�E�g
N310 G0 G153 Z0 D0
N320 G0 A0 C=DC(0)
 
;*****TOOL CHANGE*****
;!!!RAPID = 10% FOR LASER TOOL CHANGE!!!
N330 DM_RAPID(10)
N340 T="LASER"
N350 M6
;*********************

 

N330 DM_RAPID(10)
N340 G0 G153 Z0 D0
N350 G0 A0 C=DC(STARTC)
;G0 G153 X0 Y0
N360 D1

 

N370 STOPRE

 

;START POSITION

N380 G0 X=STARTX Y=STARTY
N390 G0 Z=STARTZ
 
R0=0
N450 Cladding_Para_on(Power, SetPowder1, SetCarriergas1, SetStirrerSpeed1, SetPowder2, SetCarriergas2, SetStirrerSpeed2) 

;*****DEPOSITION_01*****

N460 G4 F=IRRDIATIONTIME M174 ;irradiate
N460 G4 F=DWELL M175 ;DWELL
N420 G1 X=IC(IRRDIATIONINTERVAL) F=FEED

N460 G4 F=IRRDIATIONTIME M174 ;irradiate
N460 G4 F=DWELL M175 ;DWELL


N530 STOPRE

N540 Cladding_Para_off ;RESET CLADDING PARAMETERS

 

 

N550 G0 G153 Z0 D0          ;Z AXIS MACHINE HOME

 

N560 STOPRE

 

N570 D1

N580 G0 G153 X620           ;X & Y AXIS WORK HO

 

N590 M30;END
